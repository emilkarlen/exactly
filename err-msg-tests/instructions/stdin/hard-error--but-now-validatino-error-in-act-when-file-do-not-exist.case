# Tests that [act] results in HARD_ERROR when stdin file do not exist.
# Currently (2020-10-06) the result is VALIDATION_ERROR of the "stdin" instruction,
# since validation/post SDS of setup-instructions happens after their execution.
#
# BUT: In the future, this should (probably) be changed, so that this test case
# should instead cause HARD_ERROR in [act].
#
# THEN: When this is done, the error message from [act] should be checked by
# running this test case.

[conf]

actor = null

[setup]

def path STDIN_FILE = -rel-act stdin.txt

file @[STDIN_FILE]@

stdin = -file @[STDIN_FILE]@

run -python -existing-file -rel-home utils/remove-file-as-1st-arg.py @[STDIN_FILE]@
