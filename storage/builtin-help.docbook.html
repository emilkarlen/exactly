<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Exactly 0.9</title><link rel="stylesheet" type="text/css" href="html.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="article"><div class="titlepage"><div><div><h1 class="title"><a name="d0e1"></a>Exactly 0.9</h1></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="#d0e5">1. Concepts</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e8">1.1. Symbol</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e29">1.1.1. Types</a></span></dt><dt><span class="section"><a href="#d0e43">1.1.2. Definition</a></span></dt><dt><span class="section"><a href="#d0e70">1.1.3. Reference</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e101">1.2. Type</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e115">1.2.1. Does every instruction argument value has a type?</a></span></dt><dt><span class="section"><a href="#d0e149">1.2.2. Expressions and syntax</a></span></dt><dt><span class="section"><a href="#d0e173">1.2.3. One line</a></span></dt><dt><span class="section"><a href="#d0e178">1.2.4. Main rest</a></span></dt><dt><span class="section"><a href="#d0e218">1.2.5. Syntax</a></span></dt><dt><span class="section"><a href="#d0e225">1.2.6. Type conversion (of data types)</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e252">1.3. Directory Structures</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e282">1.3.1. Test Case Directory Structure</a></span></dt><dt><span class="section"><a href="#d0e338">1.3.2. Home Directory Structure</a></span></dt><dt><span class="section"><a href="#d0e457">1.3.3. Sandbox Directory Structure</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#d0e750">2. Syntax</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e755">2.1. STRING</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e773">2.1.1. Info</a></span></dt><dt><span class="section"><a href="#d0e818">2.1.2. Documentation</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e865">2.2. PATH</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e893">2.2.1. Where</a></span></dt><dt><span class="section"><a href="#d0e1153">2.2.2. Description</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e1220">2.3. LIST</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e1267">2.3.1. See also</a></span></dt><dt><span class="section"><a href="#d0e1280">2.3.2. Special syntax for definition of list symbol</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e1285">2.4. INTEGER</a></span></dt><dt><span class="section"><a href="#d0e1292">2.5. Enumerated values. E.g. file type</a></span></dt><dt><span class="section"><a href="#d0e1297">2.6. REG-EX</a></span></dt><dt><span class="section"><a href="#d0e1302">2.7. Logic type values</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5"></a>1.&nbsp;Concepts</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8"></a>1.1.&nbsp;Symbol</h3></div></div></div><p>A named, constant, value.</p><p>A symbol corresponds to a variable, found in most programming languages, except that it is constant.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>purpose, structure</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>type system (data / logic)</p></li></ul></div></li><li class="listitem"><p>def</p></li><li class="listitem"><p>ref</p></li></ul></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e29"></a>1.1.1.&nbsp;Types</h4></div></div></div><p>The value of a symbol has a type according to Exactly's type system.</p><p>The types are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Data types</p></li><li class="listitem"><p>Logic types</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e43"></a>1.1.2.&nbsp;Definition</h4></div></div></div><p>A symbol is defined using the <span class="command"><strong>def</strong></span> instruction:</p><pre class="programlisting">def string SYMBOL_NAME = "the symbol value"</pre><p>This defines the symbol <code class="code">SYMBOL_NAME</code> to be the value <code class="code">the symbol value</code>, which is a value of type <code class="code">string</code>.</p><p>The type must be given explicitly.</p><pre class="programlisting">def list             LIST_SYMBOL = first second "the third"

def file-transformer REPLACE_ID  = replace [0-9]{10} ID</pre><p>&lt;Describe syntax (reg-ex) of symbol name&gt;</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e70"></a>1.1.3.&nbsp;Reference</h4></div></div></div><p>A symbol must be defined before it is referenced.</p><p>A symbol reference may appear as an instruction argument, in most places where an argument of a certain type is expected.</p><p>There are two forms of symbol references:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">plain symbol name</span></dt><dd><p><code class="code">SYMBOL_NAME</code></p></dd><dt><span class="term">special syntax</span></dt><dd><p><code class="code">@[SYMBOL_NAME]@</code></p></dd></dl></div><p>The plain symbol name is used where a reference is unambiguous.</p><pre class="programlisting">def string S = "reference to @[symbol_name]@"

exists --file --rel DIR_SYMBOL @[BASE_NAME_SYMBOL]@

stdout --transformed ( select LINE_MATCHER_SYMBOL ) ! empty</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>--TRANSFORMED instead of --TRANSFORMATION</p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e101"></a>1.2.&nbsp;Type</h3></div></div></div><p>What are types used for?</p><p>Type of</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>instruction argument (most instruction arguments have a type)</p></li><li class="listitem"><p>symbol (every symbol has a type)</p></li></ul></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e115"></a>1.2.1.&nbsp;Does every instruction argument value has a type?</h4></div></div></div><p>No, here document is a string, but a string symbol cannot be defined in terms of a here doc. This should be fixed - a here doc is just an alt syntax of strings.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>string, here-document, custom syntax to eol for run --source</p><p>All these can be considered to be strings, since the value is treated in the same way.</p><p>What differs is the syntax. So there are many different syntaxes for strings.</p></li><li class="listitem"><p>enums: file, dir, symlink</p><p>There is no type for these enumerated values.</p></li><li class="listitem"><p>delimiters. For example "(", ")", "|" for logical data type values</p><p>These can be considered to be part of the syntax for the corresponding logic data type.</p></li><li class="listitem"><p>expression for integers</p><p>The syntax is the syntax for strings. And referenced symbols must be strings.</p><p>Or, the syntax is the syntax of Python expressions.</p><p>From Exactly's point of view of parsing, the syntax is that of strings.</p><p>From the point of view of evaluation, the syntax is that of Python expressions.</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e149"></a>1.2.2.&nbsp;Expressions and syntax</h4></div></div></div><p>Exactly has a very limited, and specialized syntax for expressions.</p><p>A lot of values must be supplied as a constant and cannot involve arbitrary expressions. For example file type argument <span class="token">file</span>, <span class="token">dir</span>, <span class="token">symlink</span>, cannot be given as an expression involving symbol references,e.g. Also regular expressions must be given literary. On the other hand, integers may be given as an Python expression involving symbol references.</p><p>The most sofisticated, and conventional syntax is the one for logic type values.</p><p>Syntax for paths is highly specialized.</p><p>Syntax for lists is simple, but relatively conventional and clear.</p><p>Syntax for strings is very specialized and does not support conventional expressions (x + y becomes "@[x]@ @[y]@")</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e173"></a>1.2.3.&nbsp;One line</h4></div></div></div><p>Type system for symbols and instruction arguments</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e178"></a>1.2.4.&nbsp;Main rest</h4></div></div></div><p>PGM has a type system specialized for test cases.</p><p>Every symbol, and most instruction arguments, have a type.</p><p>There are two categories of types:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>data types</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>string</p></li><li class="listitem"><p>path</p></li><li class="listitem"><p>list</p></li></ul></div></li><li class="listitem"><p>logic types</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>line matcher</p></li><li class="listitem"><p>file matcher</p></li><li class="listitem"><p>file transformer</p></li></ul></div></li></ul></div><p>A data type value is pure data.</p><p>A logic type value is a pure function.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e218"></a>1.2.5.&nbsp;Syntax</h4></div></div></div><p>Logic type values has a syntax that resembles common syntax of expressions.</p><p>Each data type, on the other hand, has it's own specialized syntax.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e225"></a>1.2.6.&nbsp;Type conversion (of data types)</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="d0e229"></a>1.2.6.1.&nbsp;path|list -&gt; string</h5></div></div></div><p>Paths and lists are casted to strings.</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="d0e234"></a>1.2.6.2.&nbsp;path</h5></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">PATH = PATH</span></dt><dd><p></p></dd><dt><span class="term">PATH = RELATIVITY SUB-PATH (string) : RELATIVITY STRING</span></dt><dd><p></p></dd><dt><span class="term"></span></dt><dd><p></p></dd></dl></div></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e252"></a>1.3.&nbsp;Directory Structures</h3></div></div></div><p>Aspects of directories and files</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>why directories?</p></li><li class="listitem"><p>pre-existing / temporary per tc-execution</p></li><li class="listitem"><p>contains predefined files / empty at start</p></li><li class="listitem"><p>acceptable to modify file/contents of dir</p></li><li class="listitem"><p>can be set to arbitrary directories by instructions / predefined values that cannot be set</p></li><li class="listitem"><p>purpose - typical usage (raison d'etre) (both of directory structure, and individual directory)</p></li><li class="listitem"><p>current directory</p></li><li class="listitem"><p>ways to refer to a directory (special support by options) (the ability to use all these directories)</p></li></ul></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e282"></a>1.3.1.&nbsp;Test Case Directory Structure</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="d0e285"></a>1.3.1.1.&nbsp;Info to provide</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>contains the HDS (preexisting dirs)</p></li><li class="listitem"><p>contains the SDS (temporary dirs)</p></li><li class="listitem"><p>contains reserved directories that should not be accessed (in the <em class="glossterm">sandbox</em>)</p></li><li class="listitem"><p>behaviour of SUT: files and directories should preferable only be created in the SDS directories</p></li><li class="listitem"><p>PGM has support for referring to all of these directories</p></li><li class="listitem"><p>? Purpose of PGM is to</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><em class="glossterm">sandbox</em> allow the SUT to pollute CD and other dirs without polluting existing directories (existing = directories that exist before the execution of a test case)</p></li><li class="listitem"><p><em class="glossterm">home</em>: easily access existing files and directories and use them in a test, either by referring to them (read-only files) or installing them into the sandbox (files that may be modified)</p></li></ul></div></li><li class="listitem"><p><em class="glossterm">home</em> must exist, partly because a test case is executed in the <em class="glossterm">sandbox</em> - CD is changed to a new directory, so special mechanisms are needed to access preexisting files</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="d0e329"></a>1.3.1.2.&nbsp;Single line descr</h5></div></div></div><p>Preexisting and temporary directories accessed by a test case.</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="d0e334"></a>1.3.1.3.&nbsp;Rest</h5></div></div></div><p></p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e338"></a>1.3.2.&nbsp;Home Directory Structure</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="d0e341"></a>1.3.2.1.&nbsp;<span class="emphasis"><em>Predefined directories and files accessed by a test case</em></span></h5></div></div></div><p>Typically, the directories in the HDS exist before the test case is executed. They contain files read by, but not modified by, the test case.</p><p>All of these directories are "configuration parameters", which means that they can be set in [conf]. The values cannot be changed after [conf].</p><p>The HDS consists of the following directories:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">case home</span></dt><dd><p><span class="emphasis"><em>Default location of predefined helper files, that should probably not be modified</em></span></p><p>Default: the directory that contains the test case file.</p></dd><dt><span class="term">act home</span></dt><dd><p><span class="emphasis"><em>Location of the SUT file, referenced from [act]</em></span></p><p>Default: the directory that contains the test case file.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Default value:</p></li><li class="listitem"><p>Set in [conf] via configuration parameter &lt;name&gt;</p></li><li class="listitem"><p>env var/builtin symbol</p></li><li class="listitem"><p>relativity options</p></li></ul></div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="d0e383"></a>1.3.2.2.&nbsp;Info to provide</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>existing directories</p></li><li class="listitem"><p>default home/case = dir where test case file is located</p></li><li class="listitem"><p>default home/act = dir where test case file is located</p></li><li class="listitem"><p>contains files and directories that typically must not be modified</p></li><li class="listitem"><p>specified in the [conf] phase, and cannot be modified thereafter</p></li><li class="listitem"><p>typlical uses</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>SUT</p></li><li class="listitem"><p>input</p></li><li class="listitem"><p>expected output</p></li><li class="listitem"><p>helper programs</p></li></ul></div></li><li class="listitem"><p>PGM has support for referring to all of these directories</p></li><li class="listitem"><p>directories</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">home</span></dt><dd><p>Default location of predefined helper files, that should probably not be modified.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>input</p></li><li class="listitem"><p>expected output</p></li><li class="listitem"><p>helper programs</p></li></ul></div></dd><dt><span class="term">act-home</span></dt><dd><p>Location of the system-under-test file, referenced from [act]</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>"act-home" configuration parameter</p></li><li class="listitem"><p>set by "act-home" instruction in [act]</p></li><li class="listitem"><p>if [act] is not used (null actor), or SUT is not a file, this dir is not used (or may be used for other things)</p></li></ul></div></dd></dl></div></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e457"></a>1.3.3.&nbsp;Sandbox Directory Structure</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="d0e460"></a>1.3.3.1.&nbsp;<span class="emphasis"><em>Temporary directories used during a single execution of a test case, one of which is the current directory when [setup] begins</em></span></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The sandbox directory structure is created when [setup] begins, and deleted after the test case ends.</p></li><li class="listitem"><p>Contains the following directories</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="filename">act</code></span></dt><dd><p><span class="emphasis"><em>This is the current directory when [setup] begins</em></span></p><p>This directory is initially empty.</p><p>If [act] (is a program that (is expected to)) operates on files, then this directory may be used as an area for these files.</p><p>[setup] may populate the directory with files, and may also change the current directory.</p><p>Then [act] may operate on the files, and [assert] can check the contents of files and directories.</p><p></p><p>If [act] operates on files, [setup] may create such files that should exist before [act] starts. [setup] may also change the current directory. Then [assert] may check the contents of this directory.</p><p>If needed, [setup] may populate this directory with files that [act] is expected to operate on. [setup] may also change the current directory.</p><p>[assert] may check the contents, as a check of side effects of [act]</p><p>[setup] is re</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>[setup] may populate this directory with files that [act] is expected to operate on; and change the current directory if needed</p></li><li class="listitem"><p>[act] may read and modify files found here</p></li><li class="listitem"><p>[assert] may checks the contents</p></li></ul></div></dd><dt><span class="term"><code class="filename">result</code></span></dt><dd><p><span class="emphasis"><em>Stores OS process result of [act], so that [assert] may check it</em></span></p><p>As part of executing [act], PGM populates this directory with files containing properties of the OS process result.</p><p>[assert] has instructions for checking these properties.</p><div class="table"><a name="d0e519"></a><p class="title"><b>Table&nbsp;1.&nbsp;</b></p><div class="table-contents"><table class="table" summary="" border="1"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th align="center">File</th><th align="center">[assert] instruction</th></tr></thead><tbody><tr><td>exitcode</td><td>exitcode</td></tr><tr><td>stdout</td><td>stdout</td></tr><tr><td>stderr</td><td>stderr</td></tr></tbody></table></div></div><br class="table-break"><p>These files may be accessed by custom code (via the "run" instruction, e.g."), if custom assertions and cleanup e.g. is needed.</p><p>A test case should not modify the contents of this directory.</p><p></p><p></p><p>As part of executing [act], PGM populates this directory with files containing</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>exit code,</p></li><li class="listitem"><p>standard output,</p></li><li class="listitem"><p>standard error output</p></li></ul></div><p>from the [act] process. [assert] has instructions for checking these properties:</p><div class="table"><a name="d0e564"></a><p class="title"><b>Table&nbsp;2.&nbsp;</b></p><div class="table-contents"><table class="table" summary="" border="1"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th align="center">File</th><th align="center">[assert] instruction</th></tr></thead><tbody><tr><td>exitcode</td><td>exitcode</td></tr><tr><td>stdout</td><td>stdout</td></tr><tr><td>stderr</td><td>stderr</td></tr></tbody></table></div></div><br class="table-break"><p>These files may be accessed by custom code (via the "run" instruction, e.g."), if custom assertions and cleanup e.g. is needed.</p><p>A test case should not modify the contents of this directory.</p></dd><dt><span class="term"><code class="filename">tmp</code></span></dt><dd><p><span class="emphasis"><em>Reserved for custom helper files, used by the test case implementation</em></span></p><p>This directory is initially empty.</p><p>PGM does to touch this directory.</p></dd></dl></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="d0e605"></a>1.3.3.2.&nbsp;Info to provide</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>(A) temporary directories used during a single execution of a test case, one of which is the CD when [setup] begins.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>created when the [setup] phase begins</p></li><li class="listitem"><p>deleted after the test case ends (which deletes all contents in them)</p></li></ul></div></li><li class="listitem"><p>files and dirs created and modified by the actual test case</p></li><li class="listitem"><p>files and dirs created by PGM to support assertions</p></li><li class="listitem"><p>typlical uses</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>files that SUT is supposed to access/modify/delete</p></li><li class="listitem"><p>temporary helper files (tmp/)</p></li></ul></div></li><li class="listitem"><p>directories</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="filename">act</code></span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>is CD when [setup] begins</p><p>this information about SDS - that it contains a directory that is CD when [setup] starts, is paramount in the information to describe.</p><p>Many programs use temporary directories for storing information needed behind the scenes. This is radically different from PGM: PGM uses temporary directories to help the test case implementer preventing the SUT to pollute source code. The way this is implemented is e.g.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>setting the CD to a temporary directory</p></li><li class="listitem"><p><span class="emphasis"><em>preventing instructions that may modify files from referring to the HDS (by not allowing certain relativities)</em></span></p></li></ul></div></li><li class="listitem"><p>contains arrangement of files expected by the SUT</p></li><li class="listitem"><p>[setup] is responsible for populating it, and may set the CD</p></li><li class="listitem"><p>[act] may modify the contents</p></li><li class="listitem"><p>[assert] may checks the contents as part of the assertion</p></li></ul></div></dd><dt><span class="term"><code class="filename">result</code></span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>standard process result from [act]</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p><code class="filename">exitcode</code></p></li><li class="listitem"><p><code class="filename">stdout</code></p></li><li class="listitem"><p><code class="filename">stderr</code></p></li></ul></div></li><li class="listitem"><p>[assert] may check the result</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p><span class="command"><strong>exitcode</strong></span> instruction</p></li><li class="listitem"><p><span class="command"><strong>stdout</strong></span> instruction</p></li><li class="listitem"><p><span class="command"><strong>stderr</strong></span> instruction</p></li><li class="listitem"><p>may be checked by custom assertions (<span class="command"><strong>run</strong></span> instruction)</p></li></ul></div></li></ul></div></dd><dt><span class="term"><code class="filename">tmp</code></span></dt><dd><p>a place to put temporary helper files, for custom assertions</p><p>PGM does not touch the contents of this dir</p></dd></dl></div></li></ul></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="d0e728"></a>1.3.3.2.1.&nbsp;Extra</h6></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>--keep prevents Exactly from deleting the sandbox. Instead of printing the result of the test case, the name of the sandbox root directory is printed on stdout.</p></li><li class="listitem"><p>PGM has support for referring to all of these directories</p></li><li class="listitem"><p>all dirs have a common sandbox root directory</p></li><li class="listitem"><p>the exact location of the directories is undefined</p></li><li class="listitem"><p>relativity options should be used to refer to these directories</p></li><li class="listitem"><p>directory locations cannot be altered (as those in the HDS)</p></li></ul></div></div></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e750"></a>2.&nbsp;Syntax</h2></div></div></div><p>A type may have many syntaxes</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e755"></a>2.1.&nbsp;STRING</h3></div></div></div><p>Many syntaxes</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>here document</p></li><li class="listitem"><p>hard quoted</p></li><li class="listitem"><p>soft quoted</p></li><li class="listitem"><p>unquoted</p></li></ul></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e773"></a>2.1.1.&nbsp;Info</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>References to path and list symbols (inside soft quotes?) are converted to string values.</p></li><li class="listitem"><p>String type symbols (using Posix syntax) are used to specify relative paths.</p></li><li class="listitem"><p>Conversion to string: PATH, LIST</p></li><li class="listitem"><p>References to symbols - as naked expressions and inside quoting, and concatenated</p></li><li class="listitem"><p>Quoting</p></li><li class="listitem"><p>forms</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>hard quoted</p></li><li class="listitem"><p>soft quoted</p></li><li class="listitem"><p>unquoted</p></li></ul></div></li><li class="listitem"><p>symbol refs</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>in naked strings</p></li><li class="listitem"><p>in soft quoted strings</p></li><li class="listitem"><p>NOT in hard quoted strings</p></li></ul></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e818"></a>2.1.2.&nbsp;Documentation</h4></div></div></div><p>Forms</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">CHARACTER...</span></dt><dd><p>A "naked" sequence of characters.</p><p>CHARACTER may not be whitespace.</p><p>Any SYMBOL-REFERENCE appearing in the string is substituted.</p></dd><dt><span class="term">"CHARACTER..."</span></dt><dd><p>Characters surrounded by "soft quotes" (').</p><p>Any SYMBOL-REFERENCE appearing in the string is substituted.</p></dd><dt><span class="term">'CHARACTER...'</span></dt><dd><p>Characters surrounded by "hard quotes" (").</p><p>Symbol references are not substituted.</p></dd></dl></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="d0e850"></a>2.1.2.1.&nbsp;Symbol references</h5></div></div></div><p>Any SYMBOL-REFERENCE must be a symbol of a "data" type:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>string</p></li><li class="listitem"><p>list</p></li><li class="listitem"><p>path</p></li></ul></div></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e865"></a>2.2.&nbsp;PATH</h3></div></div></div><p>A file path, with support for paths inside the test case directory structure.</p><p>A file path, with support for referencing the test case directories.</p><p>A file path, with support for the test case directories.</p><p>[RELATIVITY] STRING</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Special syntax for definition of path symbol: empty string.</p><p>This denots the default relativity root directory. An alternative equivalent specification is ".".</p><p>Believe it is best to note this in doc of <span class="command"><strong>def</strong></span> - add "special" notes about value syntax. A bit strange to have notes about syntax in this way - notes to be "integrated" into the syntax description found in a separate place.</p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Vad ska beskrivas i type/path, och vad i syntax/path?</p><p>Kan bli abstrakt = sv&aring;rbegripligt att beskriva i type/path i och med att syntaxen inte visas.</p><p>Men borde kunna ge en &ouml;vergripande vettig beskrivning. Kanske tom bra att beskriva koncepten utan att blanda in syntax.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e893"></a>2.2.1.&nbsp;Where</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="d0e896"></a>2.2.1.1.&nbsp;STRING</h5></div></div></div><p>A relative or absolute path, using Posix syntax.</p><p>It is a value of type string, and thus uses STRING syntax.</p><p>May contain symbol references. Referenced symbol must be either of type "string" or "path".</p><p>If s path symbol is referenced, it must be the initial path component. The reason for this is that path symbols denot absolute paths. (Even if a path symbol is defined relative the CD, it is considered to be an absolute path, since the CD is an absolute path at the moment the path is used/resolved).</p><p>A symbol that is the initial path component may be a path symbol (defined with type path). If it is, a RELATIVITY option may not be given.</p><p>Symbol references use special syntax @[SYMBOL]@ / @[SYMBOL_NAME]@ / @[NAME]@</p><p>E tries to be clever at interpreting symbols. If it begins with a symbol S (S/P) that denots an absolute path, then it is the same as giving --rel S P.</p><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="d0e913"></a>2.2.1.1.1.&nbsp;F&aring; med</h6></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>STRING &auml;r str&auml;ng - syntax f&ouml;r type/string.</p></li><li class="listitem"><p>Posix syntax (syntax)</p></li><li class="listitem"><p>may be an absolute or relative path</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">relative</span></dt><dd><p>STRING is relative the directory specified by RELATIVITY, or the default relativity if not given.</p><p>(default relativity varies, it is specified for each place a path is expected (different for different arguments to same instruction))</p></dd><dt><span class="term">absolute</span></dt><dd><p>RELATIVITY must not be given</p></dd></dl></div></li><li class="listitem"><p>STRING: Kan inneh&aring;lla symbolreferenser pss som str&auml;ngar g&ouml;r det. (beh&ouml;ver n&auml;mnas h&auml;r?? n&auml;mns i syntax-beskr f&ouml;r STRING. men vettigt att n&auml;mna h&auml;r f&ouml;r att underl&auml;tta f&ouml;r anv&auml;ndaren genom att begr&auml;nsa antalet noder denne beh&ouml;ver hitta och l&auml;sa).</p><p>STRING may contain symbol references using special syntax, if unquoted or inside double quotes.</p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="d0e946"></a>2.2.1.2.&nbsp;RELATIVITY</h5></div></div></div><p>Specifies a directory that the given STRING is relative to.</p><p>If relativity is given, STRING must be a relative path (, and it is relative the given directory).</p><p>Relativity variants</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>one of Exactly's test case directories/predefined directories / a dir in the test case directory structure / one of the test case directories.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>Options for directories of the HDS</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--rel-home</code></span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>refers to case-home directory</p></li><li class="listitem"><p>set in [conf] by "home" instruction ("home" configuration parameter)</p></li><li class="listitem"><p>this is the ...</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>case-home directory</p></li><li class="listitem"><p>"home" conf param</p></li><li class="listitem"><p>EXACTLY_HOME env var</p></li><li class="listitem"><p>EXACTLY_HOME builtin path symbol</p></li></ul></div></li></ul></div></dd><dt><span class="term"><code class="option">--rel-act-home</code></span></dt><dd><p>STRING is relative the ...</p></dd></dl></div></li><li class="listitem"><p>Options for directories of the SDS</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--rel-act</code></span></dt><dd><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>this is the ...</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>act directory</p></li><li class="listitem"><p>act/ dir inside the SDS (mention this?? it mentions the actula name/path, which may encourage to use a hard coded value in test cases)</p></li><li class="listitem"><p>EXACTLY_ACT env var</p></li><li class="listitem"><p>EXACTLY_ACT builtin path symbol</p></li></ul></div></li></ul></div></dd><dt><span class="term"><code class="option">--rel-tmp</code></span></dt><dd><p>STRING is relative the ...</p></dd><dt><span class="term"><code class="option">--rel-result</code></span></dt><dd><p>STRING is relative the ...</p></dd></dl></div></li></ul></div></li><li class="listitem"><p>relative the current directory - the directory that is CD when the PATH is used</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--rel-cd</code></span></dt><dd><p>STRING is relative the current directory.</p><p>(the directory that is current when the path is used.)</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>For defining symbols. It must be clear that the path is relative the D that is CD <span class="emphasis"><em>when the symbol/path is used</em></span>, and not when it is defined.</p><p>This may be mentioned either here - at descr of PATH syntax - and/or at descr of def.</p></div></dd></dl></div></li><li class="listitem"><p>relative a path symbol</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--rel</code> SYMBOL</span></dt><dd><p>STRING is relative the path denoted by a symbol.</p><p>The plain symbol name is used (not special reference syntax)</p><p>SYMBOL must have been defined as a path symbol/value.</p></dd></dl></div></li></ul></div><div class="section"><div class="titlepage"><div><div><h6 class="title"><a name="d0e1076"></a>2.2.1.2.1.&nbsp;F&aring; med</h6></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Vad relativitet betyder</p><p>Challenge. Everyone knows what a relative path is - every one know that a relative path is a path that is relative to <span class="emphasis"><em>something</em></span>. The challenge is to find best names of these concepts involved.</p><p>What is the best name for this <span class="emphasis"><em>something</em></span>.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>base path</p><p>- clashes with "base name", which is the part of a file name before the extension.</p></li><li class="listitem"><p>relativity root dir</p><p>Best name so far.</p><p>+ "relativity" is already a concept that is used in many places.</p><p>+ "root" is a common word for "root like" stuff.</p></li></ul></div></li><li class="listitem"><p>Lista o f&ouml;rklaring av alla relativiteter</p></li><li class="listitem"><p>Olika "platser"/"anv&auml;ndningar" har en delm&auml;ngd av dessa relativiteter.</p></li><li class="listitem"><p>Utg&aring;ngs-relativitet beroende p&aring; plats (kan vara olika inom en och samma instruktion). Utg&aring;ngsrelativitet varierar - f&ouml;rs&ouml;ker vara vanligt f&ouml;rekommande val.</p></li><li class="listitem"><p>What relativity of CD means: STRING is relative the directory that is CD when the value is used by an instruction that is not <span class="command"><strong>def</strong></span>.</p><p>Difficult to explain: You cannot say that it is relative the CD where it is ...</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>... referenced</p><p>since it can be referenced also from the <span class="command"><strong>def</strong></span> instruction.</p></li><li class="listitem"><p>... used by an instruction</p><p>since <span class="command"><strong>def</strong></span> is also an instruction.</p></li></ul></div><p>Maybe the only way to make this clear is to not have <code class="option">--rel-cd</code> as an option for <span class="command"><strong>def</strong></span>. This requires that RELATIVITY is mandatory for the <span class="command"><strong>def</strong></span> instruction, since no other relativity makes a reasonable default.</p></li></ul></div></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e1153"></a>2.2.2.&nbsp;Description</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>If RELATIVITY is not given, and STRING is a relative path, then STRING is relative a default relativity root.</p><p>The default root depends on the instruction where the path is used.</p><p>Different instructions have different default roots. The default is selected to be likely to be a common relativity root.</p></li></ul></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="d0e1164"></a>2.2.2.1.&nbsp;F&aring; med</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>syntax [RELATIVITY] STRING</p></li><li class="listitem"><p>description</p><p>an absolute path, or relative the current directory - a relative or absolute path.</p><p>Every resolved value is an absolute path.</p><p>Concepts</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>test case directories (directory structures)</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>test case directories</p></li><li class="listitem"><p>home directories</p></li><li class="listitem"><p>sandbox directories</p></li><li class="listitem"><p>current directory</p></li></ul></div></li><li class="listitem"><p>path concepts</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>path</p></li><li class="listitem"><p>path component</p></li><li class="listitem"><p>absolute path</p></li><li class="listitem"><p>relative path</p></li></ul></div></li><li class="listitem"><p>syntax</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>Posix syntax (syntax)</p></li></ul></div></li></ul></div></li></ul></div></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1220"></a>2.3.&nbsp;LIST</h3></div></div></div><p>[STRING | SYMBOL-REFERENCE]...</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>symbol references</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>symbol references uses special reference syntax</p></li><li class="listitem"><p>A top level symbol reference must be either a string or a list symbol.</p><p>If it is a list symbol, the resulting list is the concatenation of the surrounding elements and the (elemets of the) list symbol.</p><p>Unquoted symbol reference without non-space characters around it.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>naked symbol reference</p></li><li class="listitem"><p>top level symbol reference without non-space characters around it</p></li><li class="listitem"><p>unquoted symbol reference ....</p></li><li class="listitem"><p>symbol reference not inside quotes ...</p></li><li class="listitem"><p>top level symbol reference ... ("levels" ??? what is top and what is non-top level ??)</p></li><li class="listitem"><p>symbol reference not embedded in(side) a string ...</p></li><li class="listitem"><p>just a symbol reference ...</p></li><li class="listitem"><p>plain symbol reference (clashes with plain/special syntax) ...</p></li><li class="listitem"><p></p></li></ul></div></li></ul></div></li></ul></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e1267"></a>2.3.1.&nbsp;See also</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>syntax element STRING</p></li><li class="listitem"><p>Concept SYMBOL</p></li><li class="listitem"><p>Type list</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e1280"></a>2.3.2.&nbsp;Special syntax for definition of list symbol</h4></div></div></div><p>VALUE may be empty, to define an empty list. This is the only way to specify an empty list.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1285"></a>2.4.&nbsp;INTEGER</h3></div></div></div><p>Syntax of STRING. Interpreted as Python expression.</p><p>Custom restriction on value (0 - 255 for exit codes, e.g.)</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1292"></a>2.5.&nbsp;Enumerated values. E.g. file type</h3></div></div></div><p>Literal. Must be constant.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1297"></a>2.6.&nbsp;REG-EX</h3></div></div></div><p>Literal. Must be constant.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1302"></a>2.7.&nbsp;Logic type values</h3></div></div></div><p>Expression syntax that resembles common syntax of expressions with primitives, operators and parentheses.</p></div></div></div></body></html>