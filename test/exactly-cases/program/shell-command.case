# TODO - improve to make command only working via shell.¨¨
# The current code have the same behaviour as "system program" (%)
#

[setup]


file f.txt = "some text"

def program CAT_FILE = % cat
                       -transformed-by to-upper-case


[assert]


stdout -from
       @ CAT_FILE f.txt
       equals
       "SOME TEXT"

stdout -from
       % cat f.txt
       -transformed-by to-upper-case
       equals
       "SOME TEXT"
